{"componentChunkName":"component---src-templates-markdown-js","path":"/operators/continuous-deployment/docs/downstream/quicklab.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"2a4818f3-8b44-5c11-819a-5fe3803318ad","html":"<h1>Quicklab</h1>\n<h2>Set up a new Quicklab cluster</h2>\n<ol class=\"pf-c-list\">\n<li>Go to <a href=\"https://quicklab.upshift.redhat.com/\">https://quicklab.upshift.redhat.com/</a> and log in (top right corner)</li>\n<li>Click <strong>New cluster</strong></li>\n<li>\n<p>Select <strong>openshift4upi</strong> template and a region you like the most, then select the reservation duration, the rest can be left as is:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/b7936/template_select.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVQoz52RQQ4DIQgA/f9LdW2xriBkUVO49Kwd5yIJIhAIaczxB6oahGWtNc/x5AKArflLj2Oh/dohxpSu9AKoSIjEImPOHa1KiJ+eURIKyCzuANYdC2t4Q/Fz46PDfnyg9dwNImbWMW1u+3oydbqbU2u1jo+2FXLOv4stYJ3wBQ0dECkzHcKIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Select a template\"\n        title=\"Select a template\"\n        src=\"/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/fcda8/template_select.png\"\n        srcset=\"/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/12f09/template_select.png 148w,\n/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/e4a3f/template_select.png 295w,\n/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/fcda8/template_select.png 590w,\n/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/efc66/template_select.png 885w,\n/operate-first.github.io/static/2fdd250137a45304fb5dc792ebbf1f48/b7936/template_select.png 1155w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>Note</strong>: You may need to assign additional worker nodes for your cluster if you are planning to <a href=\"./odh-install-quicklab.md\">install multiple ODH components</a>.</p>\n</li>\n<li>Go to cluster page by clicking on the cluster name in <strong>My clusters</strong> table</li>\n<li>Once the cluster reaches <strong>Active</strong> state your cluster history should look like this:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/77f8f/cluster_log_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVQI112OOQ7AMAgE/f+X2oVPDhuqbJxDSigWNGgQgYjcHdl7N7O1q9ZaShERzHNOVb049nlwY8UAHsYYkJGvjIQZYwR5nPsoWiZtstxPEpjZzZA/OaUEuL6FfSHprPuheQCns6yLZsB1DAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cluster is active for the first time\"\n        title=\"Cluster is active for the first time\"\n        src=\"/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/fcda8/cluster_log_1.png\"\n        srcset=\"/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/12f09/cluster_log_1.png 148w,\n/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/e4a3f/cluster_log_1.png 295w,\n/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/fcda8/cluster_log_1.png 590w,\n/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/efc66/cluster_log_1.png 885w,\n/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/c83ae/cluster_log_1.png 1180w,\n/operate-first.github.io/static/2d0fcea4e44f2253a02ee1fe25f67a62/77f8f/cluster_log_1.png 1353w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Now click on <strong>New Bundle</strong> button in <strong>Product information</strong> section</li>\n<li>Select <strong>openshift4upi</strong> bundle. A new form loads. <strong>Opt-in for the <code class=\"language-text\">htpasswd</code> credentials provider.</strong> (You can ignore the warning on top as well, since this is the first install attempt of Openshift on that cluster):\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/1132d/bundle_select.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABEklEQVQoz5WR227DIAyGef9H3EXb9ZCQpA0HG0gAQ027adpukv369MtGgLER+nYOw0iIGYCd7Nttw3tyrqUMx+ycthVHIeSURDwe8vFUxpH6noahuZTUdQ2tyBhSqqE1qbmlHDAAOWdRr9dyvhTZVynrIJs/7tVCBaiI1fsv0P3EITT4sDUWjHGIMaaSM6VERKXWX7D+rNTK24Qxxlrr18gb6A1R3qHEPVsAC2gRHTpARAC/tIs29ao8jDDPMN09ujWmZV3Z+fmbpJTF58fhcum7022cjIpFL3kOTNrk4aPQSmuljNIPpdAvXDRzz/sQzjnPCj4Ezy0vMdVS9vbsXuIhtR+inZP+nraUcpqm8n9xnSfRcbsySHJCDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Select a bundle\"\n        title=\"Select a bundle\"\n        src=\"/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/fcda8/bundle_select.png\"\n        srcset=\"/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/12f09/bundle_select.png 148w,\n/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/e4a3f/bundle_select.png 295w,\n/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/fcda8/bundle_select.png 590w,\n/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/efc66/bundle_select.png 885w,\n/operate-first.github.io/static/f905d13c6365a059954fa79df820437c/1132d/bundle_select.png 1158w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Wait for OCP4 to install. After successful installation you should see a cluster history log like this:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/cad6c/cluster_log_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVQI12WOSQ5DIQxD//3PicQooECmv6qBXWsJ5Ji8kCeEkHNW1bVW712O4EspuOGJqNbKzKoyiVIbKsIiQB7AMUYzQxNgPUKr9x4lcnjn3FzrNVssebAZcMXThqF/OKXUWoO/n+M21cmSPoQpyDecjn7WRjdCbHvLOwJnEpdBe23e4ReZsuRI9wudLQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cluster log after OCP4 install\"\n        title=\"Cluster log after OCP4 install\"\n        src=\"/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/fcda8/cluster_log_2.png\"\n        srcset=\"/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/12f09/cluster_log_2.png 148w,\n/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/e4a3f/cluster_log_2.png 295w,\n/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/fcda8/cluster_log_2.png 590w,\n/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/efc66/cluster_log_2.png 885w,\n/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/c83ae/cluster_log_2.png 1180w,\n/operate-first.github.io/static/a7a0e24eb66af03f5f7b7b48cf642e0f/cad6c/cluster_log_2.png 1339w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Use the link and credentials from the <strong>Cluster Information</strong> section to access your cluster. Verify it contains login information for both <code class=\"language-text\">kube:admin</code> and <code class=\"language-text\">quicklab</code> user.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/operate-first.github.io/static/8a70b0e82af8b5d4ad86a372c4429cdf/5a6dd/cluster_information.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB0klEQVQ4y5VUa3ObMBDk//+3TJ0a4wAG9H4hxEttv3YFk4ybMLG7I59kzPpOtytlfd9ba51ziCGE8X+QDcNgtAGklCAvyzK/Y3mEDDTGubUmjCHGuG5YnkMi80S2JlWPj8VGMKOix2TvvdZaKQXONE3YCQrG4qmylZJ5ntd1jRJSTucQ8Y+97x/yM7zNGKOMEaAjlFLOmBACEa3/fv8Zkok7ICcIKHwvHrtA/IbcS+ThiWk20VBLkk5r9BAzWoj31iNk+L3rOkooivZprxucQ7f9hj3/sUnQHC6lMloqRTlH7AgR6YlRWhHGsNAQ0jn/BVlgrC/LvmkCZYHQ0LGB0DTazrfEt13ftO7Wjh2ZvyBzVUVfXtg552+VLG/i7cavlboRQ4UmAnFb8MDFkVRlSX6cWH4hP195nrP8bKsyKhn//IZZ46+4jzXGI4fVlTyd5PmMYYrCXApXXGchljUu07zAJh/jQKq2pdcrqUrL6GhM0HqQclZqSWo/dJhSrKpYVcum1YTAboZSraTepbZ2vRP5Mxn3ANwIj0AzJIKhxndh97shTBOmafv6yW3pSF4uRdM0fvNGv98pZjuh+wXjB4dT4hLA/8dheARj4lSG5zDc4S/kBFGGmSZZogAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cluster information\"\n        title=\"Cluster information\"\n        src=\"/operate-first.github.io/static/8a70b0e82af8b5d4ad86a372c4429cdf/fcda8/cluster_information.png\"\n        srcset=\"/operate-first.github.io/static/8a70b0e82af8b5d4ad86a372c4429cdf/12f09/cluster_information.png 148w,\n/operate-first.github.io/static/8a70b0e82af8b5d4ad86a372c4429cdf/e4a3f/cluster_information.png 295w,\n/operate-first.github.io/static/8a70b0e82af8b5d4ad86a372c4429cdf/fcda8/cluster_information.png 590w,\n/operate-first.github.io/static/8a70b0e82af8b5d4ad86a372c4429cdf/5a6dd/cluster_information.png 802w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Login as the <code class=\"language-text\">kube:admin</code>, take the value from “Hosts” and port 6443.\nFor example:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">oc login upi-0.tcoufaltest.lab.upshift.rdu2.redhat.com:6443</code></pre></div>\n<h2>Install Argo CD on your cluster</h2>\n<ol class=\"pf-c-list\">\n<li><code class=\"language-text\">kube:admin</code> is not supported in user api, that’s why we’ve opted in for the <code class=\"language-text\">htpasswd</code> provider during the bundle install.</li>\n<li>Log in as the <code class=\"language-text\">quicklab</code> user using the <code class=\"language-text\">htpasswd</code> provider in the web console. To create the Openshift user. Then log out.</li>\n<li>Login as the <code class=\"language-text\">kube:admin</code> user in the web console and your local cli client.</li>\n<li>\n<p>Grant the htpasswd’s <code class=\"language-text\">quicklab</code> user admin cluster-admin rights</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">oc adm policy add-cluster-role-to-user cluster-admin quicklab</code></pre></div>\n</li>\n<li>Now log out and log in using the htpasswd provider (the new username). Generate new API token and login via this token on your local CLI</li>\n<li>\n<p>Now you can follow the upstream docs. Create the projects:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">oc new-project argocd-test\noc new-project aicoe-argocd-dev</code></pre></div>\n</li>\n<li>Make sure you have imported the required <a href=\"../../README.md#gpg-key-access\">gpg keys</a></li>\n<li>\n<p>And deploy</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ kustomize build manifests/crds --enable_alpha_plugins | oc apply -f -\ncustomresourcedefinition.apiextensions.k8s.io/applications.argoproj.io created\ncustomresourcedefinition.apiextensions.k8s.io/appprojects.argoproj.io created\nclusterrole.rbac.authorization.k8s.io/argocd-events-create-aggregate-to-admin created\nclusterrole.rbac.authorization.k8s.io/argocd-proj-apps-aggregate-to-admin created\n\n$ kustomize build manifests/overlays/dev --enable_alpha_plugins | oc apply -f -\nserviceaccount/argocd-application-controller created\nserviceaccount/argocd-dex-server created\nserviceaccount/argocd-manager created\nserviceaccount/argocd-server created\nrole.rbac.authorization.k8s.io/argocd-application-controller created\nrole.rbac.authorization.k8s.io/argocd-dex-server created\nrole.rbac.authorization.k8s.io/argocd-server created\nclusterrole.rbac.authorization.k8s.io/argocd-manager-role created\nrolebinding.rbac.authorization.k8s.io/argocd-application-controller created\nrolebinding.rbac.authorization.k8s.io/argocd-dex-server created\nrolebinding.rbac.authorization.k8s.io/argocd-server created\nclusterrolebinding.rbac.authorization.k8s.io/argocd-manager-role-binding created\nconfigmap/argocd-cm created\nconfigmap/argocd-rbac-cm created\nconfigmap/argocd-ssh-known-hosts-cm created\nconfigmap/argocd-tls-certs-cm created\nsecret/argocd-dex-server-oauth-token created\nsecret/argocd-secret created\nsecret/dev-cluster-spec created\nsecret/ksops-pgp-key created\nservice/argocd-dex-server created\nservice/argocd-metrics created\nservice/argocd-redis created\nservice/argocd-repo-server created\nservice/argocd-server created\nservice/argocd-server-metrics created\ndeployment.apps/argocd-application-controller created\ndeployment.apps/argocd-dex-server created\ndeployment.apps/argocd-redis created\ndeployment.apps/argocd-repo-server created\ndeployment.apps/argocd-server created\nappproject.argoproj.io/dev created\napplication.argoproj.io/dev-app created\nroute.route.openshift.io/argocd-metrics created\nroute.route.openshift.io/argocd-server created\nroute.route.openshift.io/argocd-server-metrics created\n\n$ examples/configure_development.sh\nserviceaccount/argocd-dex-server patched\nsecret/argocd-secret patched\nconfigmap/argocd-cm replaced\nsecret/dev-cluster-spec patched\nsecret/dev-cluster-spec patched\napplication.argoproj.io/dev-app replaced\ngroup.user.openshift.io/dev-group created\ngroup.user.openshift.io/dev-group added: &quot;username&quot;</code></pre></div>\n</li>\n</ol>","frontmatter":{"title":"","description":null}}},"pageContext":{"id":"2a4818f3-8b44-5c11-819a-5fe3803318ad"}},"staticQueryHashes":["117426894","3000541721"]}