{"componentChunkName":"component---src-templates-markdown-js","path":"/operators/continuous-deployment/docs/admin/update_gpg_key.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"fbd92205-e599-5701-9c90-55a979abda28","html":"<h1>Update gpg key</h1>\n<h2>Prerequisites</h2>\n<ul class=\"pf-c-list\">\n<li>sops 3.6+</li>\n</ul>\n<h2>Instructions</h2>\n<p>Export the key</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ gpg --export-secret-keys <span class=\"token string\">\"<span class=\"token variable\">${KEY_ID}</span>\"</span> <span class=\"token operator\">|</span> base64 <span class=\"token operator\">></span> private.asc</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># From the repo root</span>\n$ <span class=\"token assign-left variable\">target_env</span><span class=\"token operator\">=</span>dev\n$ <span class=\"token builtin class-name\">cd</span> manifests/overlays/<span class=\"token variable\">$target_env</span>/secrets/gpg\n$ sops secret.enc.yaml</code></pre></div>\n<p>Copy the contents of <code class=\"language-text\">private.asc</code> into the <code class=\"language-text\">private.key</code> field.</p>\n<p>Save the file, exit. Commit and make a PR.</p>","frontmatter":{"title":"","description":null}}},"pageContext":{"id":"fbd92205-e599-5701-9c90-55a979abda28"}},"staticQueryHashes":["117426894","3000541721"]}